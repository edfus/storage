"use strict";!function(t){function o(){c=!0}function n(o){setTimeout(function(){c=!1,o&&o()},200)}var s=window.edfus||{},i=t("#search-form-wrap"),c=!1;t("#nav-search-btn").on("click",function(){c||(o(),i.addClass("on"),n(function(){t(".search-form-input").focus()}))}),t(".search-form-input").on("blur",function(){o(),i.removeClass("on"),n()});var a=t("#container"),r=!1;t("#main-nav-toggle").on("click",function(){r||(r=!0,a.toggleClass("mobile-nav-on"),setTimeout(function(){r=!1},200))}),t("#wrap").on("click",function(){!r&&a.hasClass("mobile-nav-on")&&a.removeClass("mobile-nav-on")}),new ClipboardJS(".article-share-link").on("success",function(o){e(".article-share-success").show(),setTimeout(function(){e(".article-share-success").fadeOut()},4e3),console.log("复制成功")});var l,f;new SmoothScroll('a[href*="#"]',{topOnEmptyHash:!0,speed:300,speedAsDuration:!0});function u(){f.height()-4<=t(window).height()?l.css({width:"100%",position:"absolute",left:0,bottom:0}):l.css({position:"static"})}s.goToTop=function(){t(window).scroll(function(){300<t(window).scrollTop()?t("a.gotop").addClass("show"):t("a.gotop").removeClass("show")})},t(document).ready(function(){s.goToTop()}),t(".article-entry").each(function(o){t(this).find("img").each(function(){if(!t(this).parent().hasClass("fancybox")){var o=this.alt;if(o&&t(this).after('<span class="caption">'+o+"</span>"),this.src){var n=this.src;".webp"===n.substring(n.length-5,n.length)&&-1!==n.substring(n.length-10,n.length-5).indexof(".")&&(n=n.substring(n.length-5,n.length)),t(this).wrap('<a href="'+n+'" title="'+o+'" class="fancybox"></a>')}else console.log(this+":no Source Attribute")}}),t(this).find(".fancybox").each(function(){t(this).attr("rel","article"+o)})}),t.fancybox&&t(".fancybox").fancybox(),l=t("footer#footer"),f=t(document),u(),t(window).on("resize.footer",function(){u()}),t(window).on("scroll.footer",function(){u()})}(jQuery);