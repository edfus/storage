"use strict";!function(e){function n(){a=!0}function o(n){setTimeout(function(){a=!1,n&&n()},200)}var t=window.edfus||{},i=e("#search-form-wrap"),a=!1;e("#nav-search-btn").on("click",function(){a||(n(),i.addClass("on"),o(function(){e(".search-form-input").focus()}))}),e(".search-form-input").on("blur",function(){n(),i.removeClass("on"),o()}),new ClipboardJS(".article-share-link").on("success",function(n){e(".article-share-success").show(),setTimeout(function(){e(".article-share-success").fadeOut()},4e3),console.log("复制成功")});new SmoothScroll('a[href*="#"]',{topOnEmptyHash:!0,speed:300,speedAsDuration:!0});t.goToTop=function(){e(window).scroll(function(){300<e(window).scrollTop()?e("a.gotop").addClass("show"):e("a.gotop").removeClass("show")})},e(document).ready(function(){t.goToTop()}),e(".article-entry").each(function(n){e(this).find("img").each(function(){if(!e(this).parent().hasClass("fancybox")){var n=this.alt;n&&e(this).after('<span class="caption">'+n+"</span>"),e(this).wrap('<a href="'+this.src+'" title="'+n+'" class="fancybox"></a>')}}),e(this).find(".fancybox").each(function(){e(this).attr("rel","article"+n)})}),e.fancybox&&e(".fancybox").fancybox();var s,c,r=e("#container"),l=!1;function f(){c.height()-4<=e(window).height()?s.css({width:"100%",position:"absolute",left:0,bottom:0}):s.css({position:"static"})}e("#main-nav-toggle").on("click",function(){l||(l=!0,r.toggleClass("mobile-nav-on"),setTimeout(function(){l=!1},200))}),e("#wrap").on("click",function(){!l&&r.hasClass("mobile-nav-on")&&r.removeClass("mobile-nav-on")}),e(window).load(function(){var n=e(".article-inner").height()-50;if(!e(".article-inner").hasClass("index-page"))if(e(".article-inner").hasClass("toc-on")){var o=e("#toc").height()/n*100+2;e(".article-inner").append("<style>.article-inner.toc-on:before{height:"+n+"px; background: linear-gradient(#2AB8FF 0%, #fff "+o+"%, #EAEAEA 75%, #CFCFCFaf 88%, transparent 100%)")}else e(".article-inner").append("<style>.article-inner:before{height:"+n+"px}</style>")}),s=e("footer#footer"),c=e(document),f(),e(window).on("resize.footer",function(){f()}),e(window).on("scroll.footer",function(){f()})}(jQuery);